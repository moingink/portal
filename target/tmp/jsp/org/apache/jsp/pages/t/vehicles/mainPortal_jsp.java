package org.apache.jsp.pages.t.vehicles;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.yonyou.util.PropertyFileUtil;
import com.yonyou.util.theme.ThemePath;
import com.yonyou.business.entity.TokenEntity;
import com.yonyou.business.entity.TokenUtil;
import com.yonyou.util.wsystem.service.ORG;
import java.util.Date;

public final class mainPortal_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");

response.setHeader("Pragma","No-cache");
response.setHeader("Cache-Control","no-cache");
response.setDateHeader("Expires", -10); 
	TokenEntity tokenEntity = TokenUtil.initTokenEntity(request);
	String ContextPath = request.getContextPath();
	String path=ContextPath+"/vendor/vehicles";
	String workFlowContext =PropertyFileUtil.getValue("WORK_FLOW_CONTEXT");

      out.write("\r\n");
      out.write("<html lang=\"zh-cn\">\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"utf-8\">\r\n");
      out.write("<title>业务管理系统</title>\r\n");
      out.write("<!-- 设置浏览器默认渲染模式 -->\r\n");
      out.write("<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n");
      out.write("<meta name=\"renderer\" content=\"webkit\">\r\n");
      out.write("</head>\r\n");
      out.write("<script src=\"");
      out.print(ContextPath);
      out.write("/vendor/jquery/jquery-1.11.2.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(ContextPath);
      out.write("/pages/js/bootstrap/js/bootstrap.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(ContextPath);
      out.write("/pages/tree/jstree.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(ContextPath);
      out.write("/pages/js/tinyselect.js\"></script>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(ContextPath);
      out.write("/pages/js/tinyselect.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(ContextPath);
      out.write("/pages/js/bootstrap/css/bootstrap.min.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(ContextPath);
      out.write("/pages/js/bootstrap-table/src/bootstrap-table.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(ContextPath);
      out.write("/pages/js/examples.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(ContextPath);
      out.write("/pages/tree/themes/default/style.min.css\" />\r\n");
      out.write("<script src=\"");
      out.print(ContextPath);
      out.write("/vendor/bootstrap/js/respond.js\"></script>\r\n");
      out.write("<!-- bootstrapIE8补丁 -->\r\n");
      out.write("<script src=\"");
      out.print(ContextPath);
      out.write("/vendor/bootstrap/js/html5.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(ContextPath);
      out.write("/vendor/bootstrap/js/respond.js\"></script>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(path);
      out.write("/css/resert.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(path);
      out.write("/css/header.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(path);
      out.write("/css/index.css\"/>\r\n");
      out.write("\t<body >\r\n");
      out.write("\t\t<div class=\"contain\">\r\n");
      out.write("\t\t\t");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "headPage.jsp?isShow=1", out, false);
      out.write("\r\n");
      out.write("\t\t\t<!--内容tab栏-->\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<div id=\"First_level_Menu\" >\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t <div class=\"modal fade\" id=\"myModal999\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" data-backdrop=\"static\" data-keyboard=\"false\" >\r\n");
      out.write("\t\t\t\t<div class=\"modal-dialog\">\r\n");
      out.write("\t\t\t\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"modal-header\">\r\n");
      out.write("\t\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\r\n");
      out.write("\t\t\t\t\t\t\t\t&times;\r\n");
      out.write("\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t<h5 class=\"modal-title\" id=\"myModalLabel999\" style=\"color:red\" >\r\n");
      out.write("\t\t\t\t\t\t\t\t初次登陆，请先修改密码！\r\n");
      out.write("\t\t\t\t\t\t\t</h5>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"modal-body\" style=\"height:300px\">\r\n");
      out.write("\t\t\t\t\t\t\t <font id=\"loginMessage\" color=\"red\"></font>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div><!-- /.modal-content -->\r\n");
      out.write("\t\t\t\t</div><!-- /.modal -->\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!--详细事项-->\r\n");
      out.write("\t\t\t<div class=\"my-detail\">\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<div class=\"my-detailtop\">\r\n");
      out.write("\t\t\t\t<!--我的代办-->\r\n");
      out.write("\t\t\t\t<div class=\"detail1\">\r\n");
      out.write("\t\t\t\t\t<div class=\"detail1-top\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"top-name\">我的待办</div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<div class=\"topul\">\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t<ul class=\"top-change\" id='notity_need_handle_count' style=\"display: none\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<li  ><span  class=\"active\" onclick=\"updateNeedHandleCount(this)\" bus_type=\"#CODE#\">#NAME#&nbsp;<span class=\"badge\" style=\"\">#BUS_SIZE#</span></span></li>\r\n");
      out.write("\t\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<span id=\"topulspan\" class=\"glyphicon glyphicon-chevron-right\" style=\"color:#08c;margin-top:18px;margin-left:10px;display:none;\"></span>\r\n");
      out.write("\t\t\t\t\t\t<span id=\"topulspanl\" class=\"glyphicon glyphicon-chevron-left\" style=\"color:#08c;margin-top:18px;margin-left:10px;display:none;\"></span>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"top-audio\">\r\n");
      out.write("\t\t\t\t\t\t\t<span onclick=\"openNotityNeed()\" class=\"moreand\">更多</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"detail1-contain\">\r\n");
      out.write("\t\t\t\t\t\t<!--div1-->\r\n");
      out.write("\t\t\t\t\t\t<!--全部对应内容-->\r\n");
      out.write("\t\t\t\t\t\t<div class=\"active\">\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"notity_need_dealt\" style=\"display: none\" >\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"contain1\"  onclick=\"plistOnClick('notityNeed',#INDEX#,'审批',this)\" >\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-point\" property='SHOW_NEED_TYPE'><img src=\"");
      out.print(path);
      out.write("/img/needType#SHOW_NEED_TYPE#.png\"/></p>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-article\" property='PAGE_MESSAGE' data-toggle=\"tooltip\"  title='#PAGE_MESSAGE#' >#PAGE_MESSAGE#</p>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-name\" property='PREVIOUS_USER_NAME' >#PREVIOUS_USER_NAME#</p>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-time\" property='NEED_START_TIME' >#NEED_START_TIME#</p>\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<!--<div class=\"contain1\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"contain1-point\"><img src=\"");
      out.print(path);
      out.write("/img/list1.png\"/></p>\r\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"contain1-article\">上合青岛峰会日程公布:10日上午将举行正式会谈正式会谈正式会谈正式会谈正式会谈正式会谈正式会谈</p>\r\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"contain1-name\">刘晓红</p>\r\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"contain1-time\">2018-06-09 23:07:56</p>\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t</div>-->\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<!--公告-->\r\n");
      out.write("\t\t\t\t<div class=\"detail2\">\r\n");
      out.write("\t\t\t\t\t<div class=\"detail1-top\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"top-name\">公告</div>\r\n");
      out.write("\t\t\t\t\t\t<ul class=\"top-change\">\r\n");
      out.write("\t\t\t\t\t\t\t<li><span  class=\"active\">全部</span></li>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- <li><span>近期</span></li>\r\n");
      out.write("\t\t\t\t\t\t\t<li><span>一个月</span></li> -->\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"top-audio\" id=\"noticeAll\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"moreand\">更多</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<div class=\"detail1-contain\">\r\n");
      out.write("\t\t\t\t\t\t<!--div1-->\r\n");
      out.write("\t\t\t\t\t\t<!--全部内容-->\r\n");
      out.write("\t\t\t\t\t\t<div class=\"active\">\r\n");
      out.write("\t\t\t\t\t\t<!-- <a href=\"notice.jsp\" id=\"noticeAll\"> -->\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"notice\" style=\"display: none\" style=\"height:100px;width:400px;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"contain1\"  onclick=\"plistOnClick('notice',#INDEX#,'公告',this)\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-point\" ><img src=\"");
      out.print(path);
      out.write("/img/list3.png\"/></p>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-name-p1\" property='TITLE' >#TITLE#</p>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-name-p2\" property='NOTICE_MESSAGE' data-toggle=\"tooltip\" data-placement=\"top\"  title='#NOTICE_MESSAGE#' >#NOTICE_MESSAGE#</p>\r\n");
      out.write("\t\t\t\t\t\t\t\t    <p class=\"contain1-name-p2\" property='STATE_DATE'>#STATE_DATE#</p>\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t</div>\t\r\n");
      out.write("\t\t\t\t\t<!-- </a> -->\r\n");
      out.write("\t\t\t\t\t</div>\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t</div>\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t<div class=\"my-detailbottom\">\r\n");
      out.write("\t\t\t\t<!--我的待阅-->\r\n");
      out.write("\t\t\t\t<div class=\"detail3\">\r\n");
      out.write("\t\t\t\t\t<div class=\"detail1-top\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"top-name\">我的待阅</div>\r\n");
      out.write("\t\t\t\t\t\t<ul class=\"top-change\" id='notity_need_pending_count' style=\"display: none\">\r\n");
      out.write("\t\t\t\t\t\t\t<li  ><span  class=\"active\" onclick=\"updateNeedPendingCount(this)\" bus_type=\"#CODE#\">#NAME#&nbsp;<span class=\"badge\" style=\"\">#BUS_SIZE#</span></span></li>\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"top-audio\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"moreand\">更多</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"detail1-contain\">\r\n");
      out.write("\t\t\t\t\t\t<!--div1-->\r\n");
      out.write("\t\t\t\t\t\t<!--全部对应内容-->\r\n");
      out.write("\t\t\t\t\t\t<div class=\"active\">\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"notity_need_pending\" style=\"display: none\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"contain1\"  onclick=\"plistOnClick('notityNeedPending',#INDEX#,'待阅',this)\" >\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<p class=\"contain1-point\"><img src=\"");
      out.print(path);
      out.write("/img/list3.png\"/></p>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-article\" property='BUS_MESSAGE' data-toggle=\"tooltip\"   title='#BUS_MESSAGE#'>#BUS_MESSAGE#</p >\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-name\" property='PREVIOUS_USER_NAME'>#PREVIOUS_USER_NAME#</p >\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<p class=\"contain1-time\" property='NEED_START_TIME'>#NEED_START_TIME#</p >\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<!--常用模块-->\r\n");
      out.write("\t\t\t\t<div class=\"detail4\">\r\n");
      out.write("\t\t\t\t\t<div class=\"detail4-top\">\r\n");
      out.write("\t\t\t\t\t\t<p class=\"top-name\">常用模块</p>\r\n");
      out.write("\t\t\t\t\t\t<p class=\"top-img\"><span class=\"moreand\">更多</span></p>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"detail4-contain\">\r\n");
      out.write("\t\t\t\t\t\t<ul class=\"contain-lists\" id=\"hh\">\r\n");
      out.write("\t\t\t\t\t\t");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t<div style=\"height: 50px; position:absolute; z-index:1;float:right;top:250px;right:800px\"  id=\"roleList\">\r\n");
      out.write("        \t\r\n");
      out.write("        </div>\r\n");
      out.write("\t</body>\r\n");
      out.write("\t\r\n");
      out.write("\t<script src=\"");
      out.print(ContextPath);
      out.write("/js/public.js\"></script>\r\n");
      out.write("\t<script src=\"");
      out.print(ContextPath);
      out.write("/js/bootTable.js\"></script>\r\n");
      out.write("\t<script src=\"");
      out.print(ContextPath);
      out.write("/js/initPage.js\"></script>\r\n");
      out.write("\t<script src=\"");
      out.print(ContextPath);
      out.write("/js/bulidPlistPage.js\"></script>\r\n");
      out.write("\t<script src=\"");
      out.print(ContextPath);
      out.write("/js/bulidNeedTypeCount.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("\t\t //系统管理\r\n");
      out.write("\t\t var visit_context ='");
      out.print(workFlowContext);
      out.write("';\r\n");
      out.write("\t\t var work_flow_context='");
      out.print(workFlowContext);
      out.write("';\r\n");
      out.write("\t\t var context='");
      out.print(request.getContextPath());
      out.write("';\r\n");
      out.write("\t\t var token ='");
      out.print(tokenEntity.getToken());
      out.write("';\r\n");
      out.write("\t\t var showTotalCode =\"\";\r\n");
      out.write("\t\t var roleId = '");
      out.print(tokenEntity.ROLE.getRoleId());
      out.write("';\r\n");
      out.write("\t\t var $lastShow;\r\n");
      out.write("         var company_id ='");
      out.print(tokenEntity.COMPANY.getCompany_id());
      out.write("';\r\n");
      out.write("         var companyname='");
      out.print(tokenEntity.COMPANY.getCompany_name());
      out.write("';\r\n");
      out.write("         var user_id='");
      out.print(tokenEntity.USER.getId());
      out.write("';\r\n");
      out.write("\t\t function sure (){\r\n");
      out.write("\t\t \tif(roleId==\"\"||roleId==\"null\"){\r\n");
      out.write("\t\t \t\troleId = $(\"input[name='role']:checked\").val();\r\n");
      out.write("\t\t \t}\r\n");
      out.write("\t\t \t//获取当前部门id\r\n");
      out.write("\t\t \tvar comid = $(\"input[name='company']:checked\").val();\r\n");
      out.write("\t\t \t$(\"#role_type option[value='0']\").remove();\r\n");
      out.write("\t\t \t$(\"#company_type option[value='0']\").remove();\r\n");
      out.write("\t\t \tinit(roleId,comid,0);\r\n");
      out.write("\t\t \t//隐藏切换角色\r\n");
      out.write("\t\t \t$('#roleList').hide();\r\n");
      out.write("\t\t \thidePopover();\r\n");
      out.write("\t\t }\r\n");
      out.write("\t\t function init(roleId,cid,tab){\r\n");
      out.write("\t\t \tvar ccid = \"\";\r\n");
      out.write("\t\t \tif(typeof(cid) == \"undefined\"){\r\n");
      out.write("\t\t \t\t ccid = $(\"input[name='company']:checked\").val();;\r\n");
      out.write("\t\t \t\t company_id = ccid;\r\n");
      out.write("\t\t \t}\r\n");
      out.write("\t\t \tif(cid == null){\r\n");
      out.write("\t\t\t \tcid  = $(\"#company_type\").find(\"option:selected\").val();\r\n");
      out.write("\t\t\t \tcompany_id = cid;\r\n");
      out.write("\t\t \t}else if(cid==\"\"){\r\n");
      out.write("\t\t \t\tcid  = $(\"input[name='company']:checked\").val();\r\n");
      out.write("\t\t\t \tcompany_id = cid;\r\n");
      out.write("\t\t \t}else{\r\n");
      out.write("\t\t \t\tcompany_id = cid;\r\n");
      out.write("\t\t \t}\r\n");
      out.write("\t\t \t//取消所有select 对当前cid进行选择属性 \r\n");
      out.write("\t\t \r\n");
      out.write("\t\t \t$(\"#company_type\").find(\"option[value!='\"+company_id+\"']\").removeAttr('selected');\r\n");
      out.write("\t\t \t$(\"#company_type\").find(\"option[value = '\"+company_id+\"']\").attr(\"selected\",\"selected\");\r\n");
      out.write("\t\t \tvar company_name =$(\"#company_type\").find(\"option:selected\").text();;\r\n");
      out.write("\t\t \tcompanyname = company_name;\r\n");
      out.write("\t\t \tconsole.log(\"------cid=\"+company_id+\"cname=\"+companyname+\"roleid=\"+roleId);\r\n");
      out.write("\t\t \tinitMenu(company_id,companyname,roleId,tab);\r\n");
      out.write("\t\t \t//调用父页面的方法\r\n");
      out.write("\t\t \tloadIndexRole(roleId,cid);\r\n");
      out.write("\t\t }\r\n");
      out.write("\t\t \r\n");
      out.write("\t\t $(function() {\r\n");
      out.write("\t\t\t\r\n");
      out.write("            \tvar roleJson = JSON.parse('");
      out.print(tokenEntity.roleJsonString);
      out.write("');\r\n");
      out.write("            \tvar companyJson = JSON.parse('");
      out.print(tokenEntity.deptJsonString);
      out.write("');\r\n");
      out.write("            \tvar html =\"<lable>部门： <div>\";\r\n");
      out.write("            \tfor(var i=0;i<companyJson.length;i++){\r\n");
      out.write("            \t\tif(i==0){\r\n");
      out.write("            \t\t\thtml=html+'<input type=\"radio\" name=\"company\" checked=\"checked\" value=\"'+companyJson[i].ID+'\"/>'+companyJson[i].NAME;\r\n");
      out.write("            \t\t}else{\r\n");
      out.write("            \t\t\thtml=html+'<input type=\"radio\" name=\"company\"  value=\"'+companyJson[i].ID+'\"/>'+companyJson[i].NAME;\r\n");
      out.write("            \t\t}\r\n");
      out.write("        \t\t}\r\n");
      out.write("        \t\thtml=html+\"</div></lable><lable>角色</lable><div>\";\r\n");
      out.write("            \tfor(var i=0;i<roleJson.length;i++){\r\n");
      out.write("            \t\tif(i==0){\r\n");
      out.write("            \t\t\thtml=html+'<input type=\"radio\" name=\"role\" checked=\"checked\" value=\"'+roleJson[i].roleId+'\"/>'+roleJson[i].roleName;\r\n");
      out.write("            \t\t}else{\r\n");
      out.write("\t            \t\thtml=html+'<input type=\"radio\" name=\"role\" value=\"'+roleJson[i].roleId+'\"/>'+roleJson[i].roleName;\r\n");
      out.write("            \t\t}\r\n");
      out.write("            \t}\r\n");
      out.write("            \thtml=html+\"</div>\";\r\n");
      out.write("            \thtml+=\"<div class='modal-footer'><button type='button' class='close'  onclick='sure()'  data-dismiss='modal' >确定</button></div>\";\r\n");
      out.write("            \t//$('#roleList').html(html);\r\n");
      out.write("            \tconsole.log(html);\r\n");
      out.write("            \tif(roleJson.length>1){\r\n");
      out.write("\t            \tif(roleId==\"\"||roleId==\"null\"){\r\n");
      out.write("\t\t            \toTable.showModal('请选择部门和角色', html);\r\n");
      out.write("\t\t            \t\r\n");
      out.write("\t            \t}\r\n");
      out.write("            \t}else{\r\n");
      out.write("            \t\tif(roleJson.length>0){\r\n");
      out.write("            \t\t\troleId = roleJson[0].roleId;\r\n");
      out.write("            \t\t}\r\n");
      out.write("            \t}\r\n");
      out.write("           \t\tif(roleId!=\"\"){\r\n");
      out.write("           \t\t\tsure();\r\n");
      out.write("           \t\t}\r\n");
      out.write("           \t\t\r\n");
      out.write("           \t\tif(roleJson.length<=1){\r\n");
      out.write("           \t\t\tupdPwd();\r\n");
      out.write("           \t\t}else{\r\n");
      out.write("\t           \t\t$('#modal').on(\"hide.bs.modal\",function(e){\r\n");
      out.write("\t\t           \t\tupdPwd();\r\n");
      out.write("\t           \t\t });\r\n");
      out.write("           \t\t}\r\n");
      out.write("           \t\t//查询待办\r\n");
      out.write("\t            bulidNeedHandleCountType(\"notityNeedCount\",\"ALL\",$(\"#notity_need_handle_count\"),true);\r\n");
      out.write("\t            //查询待阅\r\n");
      out.write("\t            bulidNeedHandleCountType(\"notityNeedPendingCount\",\"ALL\",$(\"#notity_need_pending_count\"),true);\r\n");
      out.write("           \t\tinitNotity();\r\n");
      out.write("           \t\t//flushCustMenu();\r\n");
      out.write("           \t\tupdateHandle();\r\n");
      out.write("           \t\t\r\n");
      out.write("           \t\t//$(\"#First_level_Menu\").attr(\"mouseleave\",\"hidePopover()\");\r\n");
      out.write("           \t\t\r\n");
      out.write("           \t\t\r\n");
      out.write("           \t\t//alert($(\"#notity_need_handle_count\").children(\"li\").length);\r\n");
      out.write("           \t\tif($(\"#notity_need_handle_count\").children(\"li\").length>7){\r\n");
      out.write("           \t\t\t//alert(111);\r\n");
      out.write("           \t\t\t$(\"#topulspan\").show();\r\n");
      out.write("           \t\t}else{\r\n");
      out.write("           \t\t};\r\n");
      out.write("           \t\t\t$(\"#topulspan\").click(function(){           \t\t\t\t\r\n");
      out.write("\t\t\t\t\t \t$(\"#notity_need_handle_count\").css({'right':'0'});\r\n");
      out.write("\t\t\t\t\t \t$(\"#notity_need_handle_count\").css({'left':''});\r\n");
      out.write("\t\t\t\t\t \t//$(\"#notity_need_handle_count\").removeAttr({'right':'0'});\r\n");
      out.write("\t\t\t\t\t \t$(\"#topulspan\").hide();\t\r\n");
      out.write("\t\t\t\t\t \t$(\"#topulspanl\").show();\r\n");
      out.write("\t\t\t\t\t \t\t\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t$(\"#topulspanl\").click(function(){           \t\t\t\t\r\n");
      out.write("\t\t\t\t\t \t$(\"#notity_need_handle_count\").css({'left':'0'});\r\n");
      out.write("\t\t\t\t\t \t$(\"#notity_need_handle_count\").css({'right':''});\r\n");
      out.write("\t\t\t\t\t \t$(\"#topulspanl\").hide();\t\r\n");
      out.write("\t\t\t\t\t \t$(\"#topulspan\").show();\t\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("           \t\t\r\n");
      out.write("         }); \r\n");
      out.write("\t\t//初始化待办\r\n");
      out.write("\t\tfunction initNeedHandle(){\r\n");
      out.write("\t\t\tbulidPlist('notityNeed',$(\"#notity_need_dealt\"),'');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tfunction updateNeedHandleCount(t){\r\n");
      out.write("\t\t\tvar bus_type =$(t).attr(\"bus_type\");\r\n");
      out.write("\t\t\tbulidNeedHandleCountType(\"notityNeedCount\",bus_type,$(\"#notity_need_handle_count\"),false);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tfunction updateNeedPendingCount(t){\r\n");
      out.write("\t\t\tvar bus_type =$(t).attr(\"bus_type\");\r\n");
      out.write("\t\t\tbulidNeedHandleCountType(\"notityNeedPendingCount\",bus_type,$(\"#notity_need_pending_count\"),false);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tfunction loadNeedHandle(t,type){\r\n");
      out.write("\t\t\tvar bus_type =$(t).attr(\"bus_type\");\r\n");
      out.write("\t\t\tif(type=='notityNeedCount'){\r\n");
      out.write("\t\t\t\tbulidPlist('notityNeed',$(\"#notity_need_dealt\"),'&bus_type='+bus_type);\r\n");
      out.write("\t\t\t\t$(\"#notity_need_handle_count\").children().find(\".active\").removeClass(\"active\");\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t}else if(type=='notityNeedPendingCount'){\r\n");
      out.write("\t\t\t\tbulidPlist('notityNeedPending',$(\"#notity_need_pending\"),'&bus_type='+bus_type);\r\n");
      out.write("\t\t\t\t$(\"#notity_need_pending_count\").children().find(\".active\").removeClass(\"active\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t$(t).addClass(\"active\");\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//初始化待阅\r\n");
      out.write("\t\tfunction initHeedPending(){\r\n");
      out.write("\t\t\tbulidPlist('notityNeedPending',$(\"#notity_need_pending\"),'');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//初始化公告\r\n");
      out.write("\t\tfunction initNotity(){\r\n");
      out.write("\t\t\tbulidPlistByUrl('notice',$(\"#notice\"),'/system/base?cmd=noticeJSON&dataSourceCode=NF_NOTICE_SHOW&token='+token,'');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar winOpenObjArray=[];\r\n");
      out.write("\t\tfunction openMenu(t){\r\n");
      out.write("\t\t\tvar totalcode=$(t).attr(\"totalcode\");\r\n");
      out.write("\t\t\tvar totalname=$(t).attr(\"totalname\");\r\n");
      out.write("\t\t\tvar url=$(t).attr(\"url\");\r\n");
      out.write("\t\t\tif(url.length>0){\r\n");
      out.write("\t\t\t\tvar pageUrl='");
      out.print(ThemePath.findRoute(request));
      out.write("menuPage.jsp?token=");
      out.print(tokenEntity.getToken());
      out.write("&totalcode='+totalcode+'&totalname='+totalname+'&url='+url;\r\n");
      out.write("\t\t\t\tvar containFlag=false;\r\n");
      out.write("\t\t\t\tvar containObj=null;\r\n");
      out.write("\t\t\t\tfor(var i=0;i<winOpenObjArray.length;i++){\r\n");
      out.write("\t\t\t\t\tif(winOpenObjArray[i].url==pageUrl){\r\n");
      out.write("\t\t\t\t\t\tcontainFlag=true;\r\n");
      out.write("\t\t\t\t\t\tcontainObj=winOpenObjArray[i].obj;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tif(containObj==null||containObj.closed){\r\n");
      out.write("\t\t\t\t\tvar mywin=window.open('");
      out.print(ThemePath.findRoute(request));
      out.write("menuPage.jsp?token=");
      out.print(tokenEntity.getToken());
      out.write("&totalcode='+totalcode+'&totalname='+totalname+'&url='+url); //将新打的窗口对象，存储在变量mywin中\r\n");
      out.write("\t\t\t\t\twinOpenObjArray.push({url:pageUrl,state:'1',obj:mywin});\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tcontainObj.focus();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\thidePopover();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tfunction openMenuPage(t){\r\n");
      out.write("\t\t\tvar locationCode=$(t).attr(\"totalcode\");\r\n");
      out.write("\t\t\tvar totalname=$(t).attr(\"totalname\");\r\n");
      out.write("\t\t\tvar totalcode=$(t).attr(\"parentcode\");\r\n");
      out.write("\t\t\tvar parentcode=$(t).attr(\"parentcode\");\r\n");
      out.write("\t\t\tif(parentcode!=100){\r\n");
      out.write("\t\t\t\ttotalname=$(\"li[totalcode=\"+parentcode+\"]\").attr(\"totalname\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tvar url=$(t).attr(\"url\");\r\n");
      out.write("\t\t\tvar pageUrl='");
      out.print(ThemePath.findRoute(request));
      out.write("menuPage.jsp?token=");
      out.print(tokenEntity.getToken());
      out.write("&totalcode='+totalcode+'&totalname='+totalname+'&url='+url+'&locationCode='+locationCode;\r\n");
      out.write("\t\t\tvar containFlag=false;\r\n");
      out.write("\t\t\tvar containObj=null;\r\n");
      out.write("\t\t\tfor(var i=0;i<winOpenObjArray.length;i++){\r\n");
      out.write("\t\t\t\tif(winOpenObjArray[i].url==pageUrl){\r\n");
      out.write("\t\t\t\t\tcontainFlag=true;\r\n");
      out.write("\t\t\t\t\tcontainObj=winOpenObjArray[i].obj;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(containObj==null|| containObj.closed){\r\n");
      out.write("\t\t\t\tvar mywin=window.open('");
      out.print(ThemePath.findRoute(request));
      out.write("menuPage.jsp?token=");
      out.print(tokenEntity.getToken());
      out.write("&totalcode='+totalcode+'&totalname='+totalname+'&url='+url+'&locationCode='+locationCode); //将新打的窗口对象，存储在变量mywin中\r\n");
      out.write("\t\t\t\twinOpenObjArray.push({url:pageUrl,state:'1',obj:mywin});\r\n");
      out.write("\t\t\t\tvar a=winOpenObjArray[0];\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tcontainObj.focus();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\thidePopover();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tfunction initMenu(companyid,companyname,roleId,tab){\r\n");
      out.write("\t        \tloadingMenu();\r\n");
      out.write("\t        \thidePopover();\r\n");
      out.write("\t        \tvar paramJson = {\r\n");
      out.write("           \t\t 'companyid':companyid,\r\n");
      out.write("            \t 'companyname':companyname\r\n");
      out.write("        \t\t};\r\n");
      out.write("        \t\t//弹出角色选择窗口\r\n");
      out.write("\t        \t$.ajax({  \r\n");
      out.write("\t                    url : \"/portal/base?cmd=findMenu&type=1&token=\"+'");
      out.print(tokenEntity.getToken());
      out.write("'+'&ts='+new Date().getTime()+\"&roleid=\"+roleId+\"&tab=\"+tab,  \r\n");
      out.write("\t                    dataType : \"json\",  \r\n");
      out.write("\t                    type : \"post\",\r\n");
      out.write("\t                    data : paramJson,\r\n");
      out.write("\t                    success : function(data) { \r\n");
      out.write("\t                    \tmessage = data['message'];\r\n");
      out.write("\t                    \t$(\"#First_level_Menu\").html(message);\r\n");
      out.write("\t                    \t$(function () { \r\n");
      out.write("\t\t                    \t$(\"[data-toggle='popover']\").popover({\r\n");
      out.write("\t\t                    \t\t\t\t\t html : true ,\r\n");
      out.write("\t\t                    \t\t\t         animation:true,placement: 'right',\r\n");
      out.write("\t\t                    \t\t\t\t\t delay:{ show: 200, hide: 100 }\r\n");
      out.write("\t\t                    \t                 });\r\n");
      out.write("\t\t                    \t$(\"[data-toggle='popover']\").on(\"mouseenter mouseleave\",function(event){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t if(event.type == \"mouseenter\"){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t \t$('.popover').popover(\"hide\");\r\n");
      out.write("\t\t\t\t\t\t\t\t\t    //鼠标悬浮\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t$(this).popover(\"show\");\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t\t\t\t\t else if(event.type == \"mouseleave\"){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   //鼠标离开\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   var _this = this;\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   //$(_this).popover(\"hide\");\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   //setTimeout(function () {            \t      \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t//if (!$(\".popover:hover\").length) {            \t          \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t//$(_this).popover(\"hide\")            \t                 \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t//}            \t                    \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t//}, 200); \r\n");
      out.write("\t\t\t\t\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t})\r\n");
      out.write("\r\n");
      out.write("\t                    \t$('.li-hover').hover(function(){\r\n");
      out.write("\t\t\t\t\t    \t\t$(this).find('ul').hide();\r\n");
      out.write("\t\t\t\t\t  \t\t\t},\r\n");
      out.write("\t\t\t\t\t\t\t    function(){\r\n");
      out.write("\t\t\t\t\t\t\t      $(this).find('ul').show();\r\n");
      out.write("\t\t\t\t\t\t\t    });\r\n");
      out.write("\t                    } ,\r\n");
      out.write("\t                    error:function(XMLHttpRequest, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\t\t\tmessage =\"请求失败\";\r\n");
      out.write("\t\t\t\t\t\t\talert(message);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t             });\r\n");
      out.write("\t               \r\n");
      out.write("\t     }\r\n");
      out.write("\t     \r\n");
      out.write("\t     \r\n");
      out.write("\t     \r\n");
      out.write("\t     \r\n");
      out.write("\t    function flushCustMenu(){\r\n");
      out.write("\t\t\t  \t$.ajax({  \r\n");
      out.write("\t\t\t        url:\"");
      out.print(ContextPath);
      out.write("/menu/show?token=");
      out.print(tokenEntity.getToken());
      out.write("\",  \r\n");
      out.write("\t\t\t        type:\"post\", \r\n");
      out.write("\t\t\t        data:\"\",  \r\n");
      out.write("\t\t\t        dataType:\"json\",  \r\n");
      out.write("\t\t\t        success:function(data){\r\n");
      out.write("\t\t\t        \t\r\n");
      out.write("\t\t\t        \t$(\"#hh\").text(\"\");\r\n");
      out.write("\t\t\t        \tvar imgs =[];\r\n");
      out.write("\t\t\t        \timgs[0]='customer.png';\r\n");
      out.write("\t\t\t        \timgs[1]='task.png';\r\n");
      out.write("\t\t\t        \timgs[2]='visit.png';\r\n");
      out.write("\t\t\t        \timgs[3]='summary.png';\r\n");
      out.write("\t\t\t        \timgs[4]='data1.png';\r\n");
      out.write("\t\t\t        \timgs[5]='data2.png';\r\n");
      out.write("\t\t\t        \timgs[6]='data3.png';\r\n");
      out.write("\t\t\t        \tfor (var i=0; i < data.length; i++) {\r\n");
      out.write("\t\t\t        \t\t\t $(\"#hh\").append(\"<li><p totalcode='\"+data[i].TOTAL_CODE+\"' onclick='menuManager(this)'>\"+\"<img src='");
      out.print(path);
      out.write("/img/\"+imgs[i%6]+\"'+ alt='' style='cursor:pointer'></p>\"+\r\n");
      out.write("\t\t\t        \t\t \t\"<p><a href='javascript:void(0)' totalcode=\"+data[i].TOTAL_CODE+\" onclick='menuManager(this)' title='\"+data[i].NAME+\"'>\"+data[i].NAME.substring(0,4)+\"</a></p></li>\");\r\n");
      out.write("\t\t\t        \t};\r\n");
      out.write("\t\t\t        },  \r\n");
      out.write("\t\t\t        error:function(XMLHttpRequest, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\t\talert(errorThrown);\r\n");
      out.write("\t\t\t        }  \r\n");
      out.write("\t\t     \t});  \r\n");
      out.write("\t     }\r\n");
      out.write("function loadingMenu(){\r\n");
      out.write("\t$(\"#First_level_Menu\").html(\"<li><font color='white'>loading...</font><li>\");\r\n");
      out.write("}\r\n");
      out.write("\t        \r\n");
      out.write("\t        \r\n");
      out.write("function  bulidShowPage(type,json,jsonData,$title,$width){\r\n");
      out.write("\thidePopover();\r\n");
      out.write("\tif(type=='notityNeed'){\r\n");
      out.write("\t\tvar showNeedType =json[\"SHOW_NEED_TYPE\"];\r\n");
      out.write("\t\tif(showNeedType=='0'){\r\n");
      out.write("\t\t\t$title.html(json[\"PAGE_MESSAGE\"])\r\n");
      out.write("\t\t\t$width.width(\"90%\");\r\n");
      out.write("\t\t\tvar viewUrl= work_flow_context+'/pages/auditPage.jsp?&token='+token+'&ts=' + Math.random(1000);\r\n");
      out.write("\t\t\t$.get(viewUrl, {\"jsonData\":jsonData}, function(data) {\r\n");
      out.write("\t\t\t\t$('#ViewModal .modal-body').html(data);\r\n");
      out.write("\t\t\t\treturn ;\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}else if(showNeedType=='1'){\r\n");
      out.write("\t\t\t$title.html(json[\"PAGE_MESSAGE\"])\r\n");
      out.write("\t\t\t$width.width(\"90%\");\r\n");
      out.write("\t\t\tvar type =json[\"TYPE\"];\r\n");
      out.write("\t\t\tvar url =json[\"VISIT_BUS_URL\"];\r\n");
      out.write("\t\t\tvar params=json[\"URL_PARAMS\"];\r\n");
      out.write("\t\t\t//&REF_COLUMN=BUSINESS_NUMBER&REF_SELECT_PARAMS=SEARCH-BUSINESS_ID&REF_SELECT_VALUES=Z9FCUI201808190003\r\n");
      out.write("\t\t\tif(type=='MENU_JUMP_PAGE'){\r\n");
      out.write("\t\t\t\tif(confirm(\"是否跳到业务页面！\")){\r\n");
      out.write("\t\t\t\t\tvar mywin=window.open('");
      out.print(ThemePath.findRoute(request));
      out.write("menuPage.jsp?token=");
      out.print(tokenEntity.getToken());
      out.write("'+params); //将新打的窗口对象，存储在变量mywin中\r\n");
      out.write("\t\t\t\t\treturn false;\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\treturn false;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tvar viewUrl= work_flow_context+'/pages/busFlowPage.jsp?&token=");
      out.print(tokenEntity.getToken());
      out.write("'+params+'&ts=' + Math.random(1000);\r\n");
      out.write("\t\t\t\t$.get(viewUrl, {\"jsonData\":jsonData}, function(data) {\r\n");
      out.write("\t\t\t\t\t$('#ViewModal .modal-body').html(data);\r\n");
      out.write("\t\t\t\t\treturn ;\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}else if(type=='notityNeedPending'){\r\n");
      out.write("\t\tvar message =json[\"BUS_MESSAGE\"];\r\n");
      out.write("\t\ttransToServerForNeedPending(work_flow_context+'/buttonBase?cmd=button&buttonToken=notityNeedPendingHandle',jsonData);\r\n");
      out.write("\t\tvar visit_bus_url =json[\"VISIT_BUS_URL\"];\r\n");
      out.write("\t\tvar type =json[\"TYPE\"];\r\n");
      out.write("\t\tvar isText =false;\r\n");
      out.write("\t\tvar viewUrl='';\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(type=='AUDIT_PAGE'){ //是否审批页面\r\n");
      out.write("\t\t\tviewUrl= work_flow_context+'/pages/flowPendingPageForAudit.jsp?&token=");
      out.print(tokenEntity.getToken());
      out.write("'+params+'&ts=' + Math.random(1000);\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tif(type=='ON_CLICK_PAGE'){ //是否默认双击页面\r\n");
      out.write("\t\t\t\tvisit_bus_url=\"/system/pages/busDetailMessage.jsp?pageCode=\"+json[\"MOVE_UP_LINK\"]+\"&busId=\"+json[\"BUS_ID\"]+\"&token=");
      out.print(tokenEntity.getToken());
      out.write("\";\r\n");
      out.write("\t\t\t\tjson[\"VISIT_BUS_URL\"]=visit_bus_url;\r\n");
      out.write("\t\t\t\tjsonData=JSON.stringify(json);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(visit_bus_url!=null&&visit_bus_url.length>0){ //是否维护页面或详情页面\r\n");
      out.write("\t\t\t\tviewUrl= work_flow_context+'/pages/flowPendingPageForDetail.jsp?&token=");
      out.print(tokenEntity.getToken());
      out.write("'+params+'&ts=' + Math.random(1000);\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tisText=true;  //文本信息\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(isText){\r\n");
      out.write("\t\t\t$title.html(\"待阅\");\r\n");
      out.write("\t\t\t$width.width(\"50%\");\r\n");
      out.write("\t\t\t$width.height(\"500px\");\r\n");
      out.write("\t\t\t$('#ViewModal .modal-body').html(message);\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t$title.html(\"待阅:\"+message);\r\n");
      out.write("\t\t    $width.width(\"90%\");\r\n");
      out.write("\t\t    $.get(viewUrl, {\"jsonData\":jsonData}, function(data) {\r\n");
      out.write("\t\t\t\t$('#ViewModal .modal-body').html(data);\r\n");
      out.write("\t\t\t\treturn ;\r\n");
      out.write("\t\t    });\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}else if(type=='notice'){\r\n");
      out.write("\t\tvar message =json[\"NOTICE_MESSAGE\"];\r\n");
      out.write("\t\t$title.html(\"<font color='blue' >\"+json[\"TITLE\"]+\"</font>\"+\"&emsp;<font  size='2px' color='gray'>\"+json[\"STATE_DATE\"]+\"</font>\");\r\n");
      out.write("\t\t$width.width(\"50%\");\r\n");
      out.write("\t\t$('#ViewModal .modal-body').html(message);\r\n");
      out.write("\t}\r\n");
      out.write("\treturn true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function transToServerForNeedPending(url,jsonData){\r\n");
      out.write("\t\tvar message;\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("    \t\tasync: false,\r\n");
      out.write("    \t\ttype: \"post\",\r\n");
      out.write("\t\t\turl: url,\r\n");
      out.write("\t\t\tdataType: \"json\",\r\n");
      out.write("\t\t\tdata:{\"jsonData\":jsonData},\r\n");
      out.write("\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\tmessage = data['message'];\r\n");
      out.write("\t\t\t\tbulidNeedHandleCountType(\"notityNeedPendingCount\",\"\",null,true);\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror:function(XMLHttpRequest, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t//登录超时\r\n");
      out.write("\t\t    \tif(XMLHttpRequest.getResponseHeader(\"TIMEOUTURL\")!=null){\r\n");
      out.write("\t\t    \t\twindow.top.location.href = XMLHttpRequest.getResponseHeader(\"TIMEOUTURL\");\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t\t\tmessage =\"请求失败\";\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("    \treturn message;\r\n");
      out.write("    };\r\n");
      out.write("  \t\r\n");
      out.write("  \t\r\n");
      out.write("    \r\n");
      out.write("    function hidePopover(){\r\n");
      out.write("    \t$('.popover').popover(\"hide\");\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\tfunction updateHandle(){\r\n");
      out.write("\t\tsetTimeout(function(){\r\n");
      out.write("\t\t\tbulidNeedHandleCountType(\"notityNeedCount\",'',$(\"#notity_need_handle_count\"),true);\r\n");
      out.write("\t\t\tbulidNeedHandleCountType(\"notityNeedPendingCount\",'',$(\"#notity_need_pending_count\"),true);\r\n");
      out.write("\t\t\tupdateHandle();\r\n");
      out.write("\t\t},1000*60*5);\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t//function updatePopover(){\r\n");
      out.write("\t\t//setTimeout(function(){\r\n");
      out.write("\t\t\t//hidePopover();\r\n");
      out.write("\t\t\t//updatePopover();\r\n");
      out.write("\t\t//},2000);\r\n");
      out.write("\t//}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\tfunction notice(id){\r\n");
      out.write("\t    $.ajax({\r\n");
      out.write("\t\t\ttype : 'get',\r\n");
      out.write("\t\t\turl : \"/system/base?cmd=updateState\",\r\n");
      out.write("\t\t\tdata : {\"ID\":id},\r\n");
      out.write("\t\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t\t//alert(\"ajax请求成功！\"+id);\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror : function() {\r\n");
      out.write("\t\t\t\talert('updateState请求失败 请联系管理员！ ');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\t\r\n");
      out.write("      \twindow.open(\"/portal/pagestice.jsp?\"+\"ID=\"+id+\"&State=1\",+\"_blank\",\r\n");
      out.write("\t\t     \"top=100,left=400,width=700,height=500,menubar=yes,scrollbars=no,toolbar=no,status=yes\");\r\n");
      out.write("     }\r\n");
      out.write("\t\t\t\r\n");
      out.write("\tnoticeAll.onclick=function(){\r\n");
      out.write("\t\t     window.open(\"/system/pages/singleTableModify.jsp?pageCode=NF_NOTICE_SHOW&pageName=公告展示&token=");
      out.print(tokenEntity.getToken());
      out.write("\",\"_blank\",\r\n");
      out.write("\t\t     \"top=100,left=300,width=1000,height=600,menubar=yes,scrollbars=no,toolbar=no,status=yes\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\tfunction openNotityNeed(){\r\n");
      out.write("\t\twindow.open('../pages/t/vehicles/menuManage.jsp?userid=");
      out.print(tokenEntity.USER.getId());
      out.write("');\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tfunction updPwd(){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"POST\",\r\n");
      out.write("\t\t\turl :  \"/portal/base?cmd=selectUpdPwd&user_id=\"+user_id,\r\n");
      out.write("\t\t\tdataType : \"json\",\r\n");
      out.write("\t\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t\tif(data.IS_UPD_PASSWORD!=1){\r\n");
      out.write(" \t\t\t\t\t$(\"#loginMessage\").html('<iframe src=\\'./t/vehicles/editPassWord.jsp?token='+token+'&IS_UPD_PASSWORD=0\\' width=\\'100%\\' height=\\'100%\\' frameborder=\\'0\\'>您的浏览器不支持iframe，请升级<\\/iframe>');\r\n");
      out.write(" \t\t\t\t\t$(\"#myModal999\").modal('show'); \r\n");
      out.write(" \t\t\t\t}\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror : function(data) {\r\n");
      out.write("\t\t\t\talert( \"查询失败\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\tmore2.onclick=function(){\r\n");
      out.write("\t\t     ");
      out.write("\r\n");
      out.write("\t\t\t\tbuildShowPageNodeCommonly('needCommonly','常用功能配置','90%');\r\n");
      out.write("\t}\t\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\tfunction changeFrameHeight(){\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t</script>\r\n");
      out.write("\t<style type=\"text/css\">\r\n");
      out.write("\t\r\n");
      out.write("\t.tooltip-inner {\r\n");
      out.write("\t  max-width: 400px;\r\n");
      out.write("\t  padding: 3px 8px;\r\n");
      out.write("\t  color: #000;\r\n");
      out.write("\t  text-align: center;\r\n");
      out.write("\t  text-decoration: none;\r\n");
      out.write("\t  background-color: rgb(240,240,242);\r\n");
      out.write("\t  border-radius: 4px;\r\n");
      out.write("\t}\r\n");
      out.write("    </style>\r\n");
      out.write("</html>\r\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
